{% extends 'layout.html' %}
{% block content %}
    <!-- Start of content -->
    <div style="width: 75%;">
        <!-- Canvas element for the pie chart -->
        <canvas id="myChart"></canvas>
    </div>
    <!-- Script to initialize Chart.js and create the pie chart -->
    <script>
        // Get the canvas element by its ID
        var ctx = document.getElementById('myChart').getContext('2d');
        // Create a new pie chart instance
        var myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                // Labels for the segments (Severity levels)
                labels: ["MEDIUM", "HIGH", "LOW", "CRITICAL", "Null"],
                datasets: [{
                    // Data values for the segments (CVE counts for each severity level)
                    data: [6890, 7610, 417, 1015, 3120],
                    // Background colors for the segments
                    backgroundColor: ["yellow", "red", "green", "purple", "blue"]
                }]
            },
            options: {
                responsive: true, // Make the chart responsive
                maintainAspectRatio: false, // Don't maintain aspect ratio
                title: {
                    display: true,
                    text: 'Distribution of CVEs by Severity' // Title of the chart
                }
            }
        });
    </script>
    <!-- End of content -->
{% endblock %}
